{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8000';\nclass AuthService {\n  async login(username, password) {\n    const formData = new FormData();\n    formData.append('username', username);\n    formData.append('password', password);\n    try {\n      const response = await axios.post(`${API_URL}/token`, formData);\n      if (response.data.access_token) {\n        localStorage.setItem('user', JSON.stringify(response.data));\n      }\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  async register(username, email, password) {\n    try {\n      const response = await axios.post(`${API_URL}/register`, {\n        username,\n        email,\n        password\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  logout() {\n    localStorage.removeItem('user');\n  }\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n  getToken() {\n    const user = this.getCurrentUser();\n    return user === null || user === void 0 ? void 0 : user.access_token;\n  }\n  isAuthenticated() {\n    return !!this.getToken();\n  }\n}\nexport default new AuthService();","map":{"version":3,"names":["axios","API_URL","AuthService","login","username","password","formData","FormData","append","response","post","data","access_token","localStorage","setItem","JSON","stringify","error","register","email","logout","removeItem","getCurrentUser","parse","getItem","getToken","user","isAuthenticated"],"sources":["/Users/garycai/Documents/Git Repository/ai-chat-app/frontend/src/services/authService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:8000';\n\nclass AuthService {\n    async login(username, password) {\n        const formData = new FormData();\n        formData.append('username', username);\n        formData.append('password', password);\n\n        try {\n            const response = await axios.post(`${API_URL}/token`, formData);\n            if (response.data.access_token) {\n                localStorage.setItem('user', JSON.stringify(response.data));\n            }\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n\n    async register(username, email, password) {\n        try {\n            const response = await axios.post(`${API_URL}/register`, {\n                username,\n                email,\n                password\n            });\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n\n    logout() {\n        localStorage.removeItem('user');\n    }\n\n    getCurrentUser() {\n        return JSON.parse(localStorage.getItem('user'));\n    }\n\n    getToken() {\n        const user = this.getCurrentUser();\n        return user?.access_token;\n    }\n\n    isAuthenticated() {\n        return !!this.getToken();\n    }\n}\n\nexport default new AuthService(); "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,MAAMC,WAAW,CAAC;EACd,MAAMC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IAC5B,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEJ,QAAQ,CAAC;IACrCE,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEH,QAAQ,CAAC;IAErC,IAAI;MACA,MAAMI,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGT,OAAO,QAAQ,EAAEK,QAAQ,CAAC;MAC/D,IAAIG,QAAQ,CAACE,IAAI,CAACC,YAAY,EAAE;QAC5BC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAAC,CAAC;MAC/D;MACA,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZ,MAAMA,KAAK;IACf;EACJ;EAEA,MAAMC,QAAQA,CAACd,QAAQ,EAAEe,KAAK,EAAEd,QAAQ,EAAE;IACtC,IAAI;MACA,MAAMI,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGT,OAAO,WAAW,EAAE;QACrDG,QAAQ;QACRe,KAAK;QACLd;MACJ,CAAC,CAAC;MACF,OAAOI,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZ,MAAMA,KAAK;IACf;EACJ;EAEAG,MAAMA,CAAA,EAAG;IACLP,YAAY,CAACQ,UAAU,CAAC,MAAM,CAAC;EACnC;EAEAC,cAAcA,CAAA,EAAG;IACb,OAAOP,IAAI,CAACQ,KAAK,CAACV,YAAY,CAACW,OAAO,CAAC,MAAM,CAAC,CAAC;EACnD;EAEAC,QAAQA,CAAA,EAAG;IACP,MAAMC,IAAI,GAAG,IAAI,CAACJ,cAAc,CAAC,CAAC;IAClC,OAAOI,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEd,YAAY;EAC7B;EAEAe,eAAeA,CAAA,EAAG;IACd,OAAO,CAAC,CAAC,IAAI,CAACF,QAAQ,CAAC,CAAC;EAC5B;AACJ;AAEA,eAAe,IAAIvB,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}