{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:8000';\nclass AuthService {\n  async login(username, password) {\n    const formData = new FormData();\n    formData.append('username', username);\n    formData.append('password', password);\n    try {\n      const response = await axios.post(`${API_URL}/token`, formData);\n      if (response.data.access_token) {\n        localStorage.setItem('user', JSON.stringify(response.data));\n      }\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  async register(username, email, password) {\n    try {\n      const response = await axios.post(`${API_URL}/register`, {\n        username,\n        email,\n        password\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        throw new Error(error.response.data.detail || 'Registration failed');\n      } else if (error.request) {\n        // The request was made but no response was received\n        throw new Error('No response from server');\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        throw new Error('Error setting up the request');\n      }\n    }\n  }\n  logout() {\n    localStorage.removeItem('user');\n  }\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  }\n  getToken() {\n    const user = this.getCurrentUser();\n    return user === null || user === void 0 ? void 0 : user.access_token;\n  }\n  isAuthenticated() {\n    return !!this.getToken();\n  }\n}\nexport default new AuthService();","map":{"version":3,"names":["axios","API_URL","AuthService","login","username","password","formData","FormData","append","response","post","data","access_token","localStorage","setItem","JSON","stringify","error","register","email","headers","Error","detail","request","logout","removeItem","getCurrentUser","parse","getItem","getToken","user","isAuthenticated"],"sources":["/Users/garycai/Documents/Git Repository/ai-chat-app/frontend/src/services/authService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:8000';\n\nclass AuthService {\n    async login(username, password) {\n        const formData = new FormData();\n        formData.append('username', username);\n        formData.append('password', password);\n\n        try {\n            const response = await axios.post(`${API_URL}/token`, formData);\n            if (response.data.access_token) {\n                localStorage.setItem('user', JSON.stringify(response.data));\n            }\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n\n    async register(username, email, password) {\n        try {\n            const response = await axios.post(`${API_URL}/register`, {\n                username,\n                email,\n                password\n            }, {\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n            return response.data;\n        } catch (error) {\n            if (error.response) {\n                // The request was made and the server responded with a status code\n                // that falls out of the range of 2xx\n                throw new Error(error.response.data.detail || 'Registration failed');\n            } else if (error.request) {\n                // The request was made but no response was received\n                throw new Error('No response from server');\n            } else {\n                // Something happened in setting up the request that triggered an Error\n                throw new Error('Error setting up the request');\n            }\n        }\n    }\n\n    logout() {\n        localStorage.removeItem('user');\n    }\n\n    getCurrentUser() {\n        return JSON.parse(localStorage.getItem('user'));\n    }\n\n    getToken() {\n        const user = this.getCurrentUser();\n        return user?.access_token;\n    }\n\n    isAuthenticated() {\n        return !!this.getToken();\n    }\n}\n\nexport default new AuthService(); "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,MAAMC,WAAW,CAAC;EACd,MAAMC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IAC5B,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEJ,QAAQ,CAAC;IACrCE,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEH,QAAQ,CAAC;IAErC,IAAI;MACA,MAAMI,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGT,OAAO,QAAQ,EAAEK,QAAQ,CAAC;MAC/D,IAAIG,QAAQ,CAACE,IAAI,CAACC,YAAY,EAAE;QAC5BC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAAC,CAAC;MAC/D;MACA,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZ,MAAMA,KAAK;IACf;EACJ;EAEA,MAAMC,QAAQA,CAACd,QAAQ,EAAEe,KAAK,EAAEd,QAAQ,EAAE;IACtC,IAAI;MACA,MAAMI,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGT,OAAO,WAAW,EAAE;QACrDG,QAAQ;QACRe,KAAK;QACLd;MACJ,CAAC,EAAE;QACCe,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACJ,CAAC,CAAC;MACF,OAAOX,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZ,IAAIA,KAAK,CAACR,QAAQ,EAAE;QAChB;QACA;QACA,MAAM,IAAIY,KAAK,CAACJ,KAAK,CAACR,QAAQ,CAACE,IAAI,CAACW,MAAM,IAAI,qBAAqB,CAAC;MACxE,CAAC,MAAM,IAAIL,KAAK,CAACM,OAAO,EAAE;QACtB;QACA,MAAM,IAAIF,KAAK,CAAC,yBAAyB,CAAC;MAC9C,CAAC,MAAM;QACH;QACA,MAAM,IAAIA,KAAK,CAAC,8BAA8B,CAAC;MACnD;IACJ;EACJ;EAEAG,MAAMA,CAAA,EAAG;IACLX,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC;EACnC;EAEAC,cAAcA,CAAA,EAAG;IACb,OAAOX,IAAI,CAACY,KAAK,CAACd,YAAY,CAACe,OAAO,CAAC,MAAM,CAAC,CAAC;EACnD;EAEAC,QAAQA,CAAA,EAAG;IACP,MAAMC,IAAI,GAAG,IAAI,CAACJ,cAAc,CAAC,CAAC;IAClC,OAAOI,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAElB,YAAY;EAC7B;EAEAmB,eAAeA,CAAA,EAAG;IACd,OAAO,CAAC,CAAC,IAAI,CAACF,QAAQ,CAAC,CAAC;EAC5B;AACJ;AAEA,eAAe,IAAI3B,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}